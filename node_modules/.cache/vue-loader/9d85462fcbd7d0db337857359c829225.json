{"remainingRequest":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/warley/Área de Trabalho/Projeto de TCC/Front-End/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/src/App.vue","mtime":1651663178606},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1650512209933},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/babel-loader/lib/index.js","mtime":1651454970914},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1650512209933},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/vue-loader/lib/index.js","mtime":1650512226403}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IGJhc2VBcGlVcmwsIHVzZXJLZXkgfSBmcm9tICdAL2dsb2JhbCc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL0hlYWRlcic7Ci8vIGltcG9ydCBNZW51IGZyb20gJ0AvY29tcG9uZW50cy90ZW1wbGF0ZS9NZW51JzsKaW1wb3J0IENvbnRlbnQgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL0NvbnRlbnQnOwppbXBvcnQgRm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy90ZW1wbGF0ZS9Gb290ZXInOwppbXBvcnQgTG9hZGluZyBmcm9tICdAL2NvbXBvbmVudHMvdGVtcGxhdGUvTG9hZGluZyc7CmltcG9ydCAnLi9zdHlsZXMvZ2xvYmFsLmNzcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7IEhlYWRlciwgQ29udGVudCwgRm9vdGVyLCBMb2FkaW5nIH0sCiAgY29tcHV0ZWQ6IG1hcFN0YXRlKFsnaXNNZW51VmlzaWJsZScsICd1c2VyJ10pLAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbGlkYXRpbmdUb2tlbjogdHJ1ZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyB2YWxpZGF0ZVRva2VuKCkgewogICAgICB0aGlzLnZhbGlkYXRpbmdUb2tlbiA9IHRydWU7CiAgICAgIGNvbnN0IGpzb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh1c2VyS2V5KTsKICAgICAgY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKGpzb24pOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFVzZXInLCBudWxsKTsKICAgICAgaWYgKCF1c2VyRGF0YSkgewogICAgICAgIHRoaXMudmFsaWRhdGluZ1Rva2VuID0gZmFsc2U7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnYXV0aCcgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7YmFzZUFwaVVybH0vdmFsaWRhdGVUb2tlbmAsIHVzZXJEYXRhKTsKICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRVc2VyJywgdXNlckRhdGEpOwogICAgICAgIGlmICh0aGlzLiRtcSA9PT0gJ3hzJyB8fCB0aGlzLiRtcSA9PT0gJ3NtJykgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0b2dnbGVNZW51JywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh1c2VyS2V5KTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdhdXRoJyB9KTsKICAgICAgfQogICAgICB0aGlzLnZhbGlkYXRpbmdUb2tlbiA9IGZhbHNlOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnZhbGlkYXRlVG9rZW4oKTsKICB9LAp9Owo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\" :class=\"{ 'hide-menu': !isMenuVisible || !user }\">\n    <Header\n      title=\"TCC- Projeto de conclusão de Curso\"\n      :hideToggle=\"!user\"\n      :hideUserDropdown=\"!user\"\n    />\n    <Menu v-if=\"user\" />\n    <Loading v-if=\"validatingToken\" />\n    <Content v-else />\n    <Footer />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { baseApiUrl, userKey } from '@/global';\nimport { mapState } from 'vuex';\nimport Header from '@/components/template/Header';\n// import Menu from '@/components/template/Menu';\nimport Content from '@/components/template/Content';\nimport Footer from '@/components/template/Footer';\nimport Loading from '@/components/template/Loading';\nimport './styles/global.css';\nexport default {\n  name: 'App',\n  components: { Header, Content, Footer, Loading },\n  computed: mapState(['isMenuVisible', 'user']),\n  data: function () {\n    return {\n      validatingToken: true,\n    };\n  },\n  methods: {\n    async validateToken() {\n      this.validatingToken = true;\n      const json = localStorage.getItem(userKey);\n      const userData = JSON.parse(json);\n      this.$store.commit('setUser', null);\n      if (!userData) {\n        this.validatingToken = false;\n        this.$router.push({ name: 'auth' });\n        return;\n      }\n      const res = await axios.post(`${baseApiUrl}/validateToken`, userData);\n      if (res.data) {\n        this.$store.commit('setUser', userData);\n        if (this.$mq === 'xs' || this.$mq === 'sm') {\n          this.$store.commit('toggleMenu', false);\n        }\n      } else {\n        localStorage.removeItem(userKey);\n        this.$router.push({ name: 'auth' });\n      }\n      this.validatingToken = false;\n    },\n  },\n  created() {\n    this.validateToken();\n  },\n};\n</script>\n"]}]}