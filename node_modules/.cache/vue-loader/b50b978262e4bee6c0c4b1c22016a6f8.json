{"remainingRequest":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\src\\App.vue","mtime":1648650186984},{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650291280858},{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\babel-loader\\lib\\index.js","mtime":1650291280439},{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650291280858},{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\vue-loader\\lib\\index.js","mtime":1650291319469}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IGJhc2VBcGlVcmwsIHVzZXJLZXkgfSBmcm9tICdAL2dsb2JhbCc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL0hlYWRlcic7CmltcG9ydCBNZW51IGZyb20gJ0AvY29tcG9uZW50cy90ZW1wbGF0ZS9NZW51JzsKaW1wb3J0IENvbnRlbnQgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL0NvbnRlbnQnOwppbXBvcnQgRm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy90ZW1wbGF0ZS9Gb290ZXInOwppbXBvcnQgTG9hZGluZyBmcm9tICdAL2NvbXBvbmVudHMvdGVtcGxhdGUvTG9hZGluZyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgY29tcG9uZW50czogeyBIZWFkZXIsIE1lbnUsIENvbnRlbnQsIEZvb3RlciwgTG9hZGluZyB9LAogIGNvbXB1dGVkOiBtYXBTdGF0ZShbJ2lzTWVudVZpc2libGUnLCAndXNlciddKSwKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICB2YWxpZGF0aW5nVG9rZW46IHRydWUsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgdmFsaWRhdGVUb2tlbigpIHsKICAgICAgdGhpcy52YWxpZGF0aW5nVG9rZW4gPSB0cnVlOwoKICAgICAgY29uc3QganNvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHVzZXJLZXkpOwogICAgICBjb25zdCB1c2VyRGF0YSA9IEpTT04ucGFyc2UoanNvbik7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VXNlcicsIG51bGwpOwoKICAgICAgaWYgKCF1c2VyRGF0YSkgewogICAgICAgIHRoaXMudmFsaWRhdGluZ1Rva2VuID0gZmFsc2U7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnYXV0aCcgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5wb3N0KGAke2Jhc2VBcGlVcmx9L3ZhbGlkYXRlVG9rZW5gLCB1c2VyRGF0YSk7CgogICAgICBpZiAocmVzLmRhdGEpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldFVzZXInLCB1c2VyRGF0YSk7CgogICAgICAgIGlmICh0aGlzLiRtcSA9PT0gJ3hzJyB8fCB0aGlzLiRtcSA9PT0gJ3NtJykgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0b2dnbGVNZW51JywgZmFsc2UpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh1c2VyS2V5KTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdhdXRoJyB9KTsKICAgICAgfQoKICAgICAgdGhpcy52YWxpZGF0aW5nVG9rZW4gPSBmYWxzZTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy52YWxpZGF0ZVRva2VuKCk7CiAgfSwKfTsK"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\" :class=\"{ 'hide-menu': !isMenuVisible || !user }\">\n    <Header\n      title=\"TCC- Projeto de conclusÃ£o de Curso\"\n      :hideToggle=\"!user\"\n      :hideUserDropdown=\"!user\"\n    />\n    <Menu v-if=\"user\" />\n    <Loading v-if=\"validatingToken\" />\n    <Content v-else />\n    <Footer />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { baseApiUrl, userKey } from '@/global';\nimport { mapState } from 'vuex';\nimport Header from '@/components/template/Header';\nimport Menu from '@/components/template/Menu';\nimport Content from '@/components/template/Content';\nimport Footer from '@/components/template/Footer';\nimport Loading from '@/components/template/Loading';\n\nexport default {\n  name: 'App',\n  components: { Header, Menu, Content, Footer, Loading },\n  computed: mapState(['isMenuVisible', 'user']),\n  data: function () {\n    return {\n      validatingToken: true,\n    };\n  },\n  methods: {\n    async validateToken() {\n      this.validatingToken = true;\n\n      const json = localStorage.getItem(userKey);\n      const userData = JSON.parse(json);\n      this.$store.commit('setUser', null);\n\n      if (!userData) {\n        this.validatingToken = false;\n        this.$router.push({ name: 'auth' });\n        return;\n      }\n\n      const res = await axios.post(`${baseApiUrl}/validateToken`, userData);\n\n      if (res.data) {\n        this.$store.commit('setUser', userData);\n\n        if (this.$mq === 'xs' || this.$mq === 'sm') {\n          this.$store.commit('toggleMenu', false);\n        }\n      } else {\n        localStorage.removeItem(userKey);\n        this.$router.push({ name: 'auth' });\n      }\n\n      this.validatingToken = false;\n    },\n  },\n  created() {\n    this.validateToken();\n  },\n};\n</script>\n<style>\n* {\n  font-family: 'Lato', sans-serif;\n}\n\nbody {\n  margin: 0;\n}\n\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  height: 100vh;\n  display: grid;\n  grid-template-columns: 300px 1fr;\n  grid-template-rows: 60px 1fr 40px;\n\n  grid-template-areas: 'header header' 'menu content' 'menu footer';\n}\n\n#app.hide-menu {\n  grid-template-areas: 'header header' 'content content' 'footer footer';\n}\n</style>\n"]}]}