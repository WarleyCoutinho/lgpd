{"remainingRequest":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/babel-loader/lib/index.js!/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/warley/Área de Trabalho/Projeto de TCC/Front-End/src/components/users/Usuario.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/src/components/users/Usuario.vue","mtime":1651662381667},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/babel.config.js","mtime":1641519101000},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1650512209933},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/babel-loader/lib/index.js","mtime":1651454970914},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1650512209933},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/vue-loader/lib/index.js","mtime":1650512226403}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvd2FybGV5L1x4QzFyZWEgZGUgVHJhYmFsaG8vUHJvamV0byBkZSBUQ0MvRnJvbnQtRW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYmFzZUFwaVVybCwgc2hvd0Vycm9yIH0gZnJvbSAnQC9nbG9iYWwnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1VzdWFyaW8nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlOiAnc2F2ZScsCiAgICAgIHVzZXI6IHt9LAogICAgICB1c2VyczogW10sCiAgICAgIG5pdmVpczogW3sKICAgICAgICB2YWx1ZTogMSwKICAgICAgICB0ZXh0OiAnQWRtaW5pc3RyYWRvcicKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAyLAogICAgICAgIHRleHQ6ICdHZXJlbnRlJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDMsCiAgICAgICAgdGV4dDogJ0Nvb3JkZW5hZG9yJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDQsCiAgICAgICAgdGV4dDogJ0FuYWxpc3RhJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDUsCiAgICAgICAgdGV4dDogJ1VzdcOhcmlvIFBhZHLDo28nCiAgICAgIH1dLAogICAgICBmaWVsZHM6IFt7CiAgICAgICAga2V5OiAndXN1YXJpb0lkJywKICAgICAgICBsYWJlbDogJyMnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICduYW1lJywKICAgICAgICBsYWJlbDogJ05vbWUnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdlbWFpbCcsCiAgICAgICAgbGFiZWw6ICdFLW1haWwnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdwbGFudGEnLAogICAgICAgIGxhYmVsOiAnUGxhbnRhIEluZHVzdHJpYWwnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICduaXZlbCcsCiAgICAgICAgbGFiZWw6ICdOw612ZWwgdXN1w6FyaW8nLAogICAgICAgIHNvcnRhYmxlOiB0cnVlLAogICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gZm9ybWF0dGVyKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IDEgPyAnQWRtaW5pc3RyYWRvcicgOiB2YWx1ZSA9PT0gMiA/ICdHZXJlbnRlJyA6IHZhbHVlID09PSAzID8gJ0Nvb3JkZW5hZG9yJyA6IHZhbHVlID09PSA0ID8gJ0FuYWxpc3RhJyA6ICdVc3XDoXJpbyBQYWRyw6NvJzsKICAgICAgICB9CiAgICAgIH0sIC8vIHsKICAgICAgLy8gICBrZXk6ICdhZG1pbicsCiAgICAgIC8vICAgbGFiZWw6ICdBZG1pbmlzdHJhZG9yJywKICAgICAgLy8gICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgLy8gICBmb3JtYXR0ZXI6ICh2YWx1ZSkgPT4gKHZhbHVlID8gJ1NpbScgOiAnTsOjbycpLAogICAgICAvLyB9LAogICAgICB7CiAgICAgICAga2V5OiAnYWN0aW9ucycsCiAgICAgICAgbGFiZWw6ICdBw6fDtWVzJwogICAgICB9XQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWRVc2VyczogZnVuY3Rpb24gbG9hZFVzZXJzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHVybCA9ICIiLmNvbmNhdChiYXNlQXBpVXJsLCAiL3VzdWFyaW8iKTsKICAgICAgYXhpb3MuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMudXNlcnMgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLm1vZGUgPSAnc2F2ZSc7CiAgICAgIHRoaXMudXNlciA9IHt9OwogICAgICB0aGlzLmxvYWRVc2VycygpOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIG1ldGhvZCA9IHRoaXMudXNlci51c3VhcmlvSWQgPyAncHV0JyA6ICdwb3N0JzsKICAgICAgdmFyIGlkID0gdGhpcy51c2VyLnVzdWFyaW9JZCA/ICIvIi5jb25jYXQodGhpcy51c2VyLnVzdWFyaW9JZCkgOiAnJzsKICAgICAgZGVsZXRlIHRoaXMudXNlci5wbGFudGE7CiAgICAgIGF4aW9zW21ldGhvZF0oIiIuY29uY2F0KGJhc2VBcGlVcmwsICIvdXN1YXJpbyIpLmNvbmNhdChpZCksIHRoaXMudXNlcikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLiR0b2FzdGVkLmdsb2JhbC5kZWZhdWx0U3VjY2VzcygpOwoKICAgICAgICBfdGhpczIucmVzZXQoKTsKICAgICAgfSkuY2F0Y2goc2hvd0Vycm9yKTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgaWQgPSB0aGlzLnVzZXIudXN1YXJpb0lkOwogICAgICBheGlvcy5kZWxldGUoIiIuY29uY2F0KGJhc2VBcGlVcmwsICIvdXN1YXJpby8iKS5jb25jYXQoaWQpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuJHRvYXN0ZWQuZ2xvYmFsLmRlZmF1bHRTdWNjZXNzKCk7CgogICAgICAgIF90aGlzMy5yZXNldCgpOwogICAgICB9KS5jYXRjaChzaG93RXJyb3IpOwogICAgfSwKICAgIGxvYWRVc2VyOiBmdW5jdGlvbiBsb2FkVXNlcih1c2VyKSB7CiAgICAgIHZhciBtb2RlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnc2F2ZSc7CiAgICAgIHRoaXMubW9kZSA9IG1vZGU7CiAgICAgIHRoaXMudXNlciA9IF9vYmplY3RTcHJlYWQoe30sIHVzZXIpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZFVzZXJzKCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACAA,iBADA;AAEAC;AACA;AACAC,kBADA;AAEAC,cAFA;AAGAC,eAHA;AAIAC,eACA;AAAAC;AAAAC;AAAA,OADA,EAEA;AAAAD;AAAAC;AAAA,OAFA,EAGA;AAAAD;AAAAC;AAAA,OAHA,EAIA;AAAAD;AAAAC;AAAA,OAJA,EAKA;AAAAD;AAAAC;AAAA,OALA,CAJA;AAWAC,eACA;AAAAC;AAAAC;AAAAC;AAAA,OADA,EAEA;AAAAF;AAAAC;AAAAC;AAAA,OAFA,EAGA;AAAAF;AAAAC;AAAAC;AAAA,OAHA,EAIA;AAAAF;AAAAC;AAAAC;AAAA,OAJA,EAKA;AACAF,oBADA;AAEAC,8BAFA;AAGAC,sBAHA;AAIAC;AAAA,iBACAN,cACA,eADA,GAEAA,cACA,SADA,GAEAA,cACA,aADA,GAEAA,cACA,UADA,GAEA,gBATA;AAAA;AAJA,OALA,EAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AAAAG;AAAAC;AAAA,OA1BA;AAXA;AAwCA,GA3CA;AA4CAG;AACAC,aADA,uBACA;AAAA;;AACA;AACAC;AACA;AACA,OAFA;AAGA,KANA;AAOAC,SAPA,mBAOA;AACA;AACA;AACA;AACA,KAXA;AAYAC,QAZA,kBAYA;AAAA;;AACA;AACA;AACA;AACAF,6EACAG,IADA,CACA;AACA;;AACA;AACA,OAJA,EAKAC,KALA,CAKAC,SALA;AAMA,KAtBA;AAuBAC,UAvBA,oBAuBA;AAAA;;AACA;AACAN,YACAO,MADA,WACAC,UADA,sBACAC,EADA,GAEAN,IAFA,CAEA;AACA;;AACA;AACA,OALA,EAMAC,KANA,CAMAC,SANA;AAOA,KAhCA;AAiCAK,YAjCA,oBAiCAtB,IAjCA,EAiCA;AAAA;AACA;AACA;AACA;AApCA,GA5CA;AAkFAuB,SAlFA,qBAkFA;AACA;AACA;AApFA","names":["name","data","mode","user","users","niveis","value","text","fields","key","label","sortable","formatter","methods","loadUsers","axios","reset","save","then","catch","showError","remove","delete","baseApiUrl","id","loadUser","mounted"],"sourceRoot":"src/components/users","sources":["Usuario.vue"],"sourcesContent":["<template>\n  <div class=\"usuario\">\n    <b-form>\n      <input type=\"hidden\" id=\"user-id\" v-model=\"user.usuarioId\" />\n      <b-row>\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group label=\"Nome:\" label-for=\"user-name\">\n            <b-form-input\n              id=\"user-name\"\n              type=\"text\"\n              v-model=\"user.name\"\n              required\n              :readonly=\"mode === 'remove'\"\n              placeholder=\"Informe o Nome do Usuário\"\n            />\n          </b-form-group>\n        </b-col>\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group label=\"E-mail:\" label-for=\"user-email\">\n            <b-form-input\n              id=\"user-email\"\n              type=\"text\"\n              v-model=\"user.email\"\n              required\n              :readonly=\"mode === 'remove'\"\n              placeholder=\"Informe o E-mail do Usuário\"\n            />\n          </b-form-group>\n        </b-col>\n      </b-row>\n      <b-row v-show=\"mode === 'save'\">\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group label=\"Senha:\" label-for=\"user-password\">\n            <b-form-input\n              id=\"user-password\"\n              type=\"password\"\n              v-model=\"user.password\"\n              required\n              placeholder=\"Informe a Senha do Usuário\"\n            />\n          </b-form-group>\n        </b-col>\n        <b-col md=\"6\" sm=\"12\">\n          <b-form-group\n            label=\"Confirme a senha:\"\n            label-for=\"user-confirm-password\"\n          >\n            <b-form-input\n              id=\"user-confirm-password\"\n              type=\"password\"\n              v-model=\"user.confirmPassword\"\n              required\n              placeholder=\"Confirme a senha do Usuário\"\n            />\n          </b-form-group>\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col md=\"4\" sm=\"12\">\n          <b-form-group label=\"Nível:\" label-for=\"user-nivel\">\n            <b-form-select\n              v-if=\"mode === 'save'\"\n              id=\"user-nivel\"\n              :options=\"niveis\"\n              v-model=\"user.nivel\"\n            />\n            <b-form-input\n              v-else\n              id=\"user-nivel\"\n              type=\"text\"\n              v-model=\"user.nivel\"\n              readonly\n            />\n          </b-form-group>\n        </b-col>\n        <!-- <b-col class=\"mt-3\" md=\"4\" sm=\"12\">\n          <b-form-group>\n            <b-form-checkbox\n              v-show=\"mode === 'save'\"\n              id=\"user-admin\"\n              v-model=\"user.admin\"\n              class=\"mt-3 mb-3\"\n            >\n              Administrador?\n            </b-form-checkbox>\n          </b-form-group>\n        </b-col> -->\n      </b-row>\n      <b-row>\n        <b-col xs=\"12\">\n          <b-button variant=\"primary\" v-if=\"mode === 'save'\" @click=\"save\">\n            Salvar\n          </b-button>\n          <b-button variant=\"danger\" v-if=\"mode === 'remove'\" @click=\"remove\">\n            Excluir\n          </b-button>\n          <b-button class=\"ml-2\" @click=\"reset\"> Cancelar </b-button>\n        </b-col>\n      </b-row>\n    </b-form>\n    <hr />\n    <b-table\n      hover\n      striped\n      small\n      sort-icon-left\n      head-variant=\"dark\"\n      :items=\"users\"\n      :fields=\"fields\"\n    >\n      <template v-slot:cell(actions)=\"data\">\n        <b-button variant=\"warning\" @click=\"loadUser(data.item)\" class=\"mr-2\">\n          <i class=\"fa fa-pencil\"></i>\n        </b-button>\n        <b-button variant=\"danger\" @click=\"loadUser(data.item, 'remove')\">\n          <i class=\"fa fa-trash\"></i>\n        </b-button>\n      </template>\n    </b-table>\n  </div>\n</template>\n\n<script>\nimport { baseApiUrl, showError } from '@/global';\nimport axios from 'axios';\nexport default {\n  name: 'Usuario',\n  data: function () {\n    return {\n      mode: 'save',\n      user: {},\n      users: [],\n      niveis: [\n        { value: 1, text: 'Administrador' },\n        { value: 2, text: 'Gerente' },\n        { value: 3, text: 'Coordenador' },\n        { value: 4, text: 'Analista' },\n        { value: 5, text: 'Usuário Padrão' },\n      ],\n      fields: [\n        { key: 'usuarioId', label: '#', sortable: true },\n        { key: 'name', label: 'Nome', sortable: true },\n        { key: 'email', label: 'E-mail', sortable: true },\n        { key: 'planta', label: 'Planta Industrial', sortable: true },\n        {\n          key: 'nivel',\n          label: 'Nível usuário',\n          sortable: true,\n          formatter: (value) =>\n            value === 1\n              ? 'Administrador'\n              : value === 2\n              ? 'Gerente'\n              : value === 3\n              ? 'Coordenador'\n              : value === 4\n              ? 'Analista'\n              : 'Usuário Padrão',\n        },\n        // {\n        //   key: 'admin',\n        //   label: 'Administrador',\n        //   sortable: true,\n        //   formatter: (value) => (value ? 'Sim' : 'Não'),\n        // },\n        { key: 'actions', label: 'Ações' },\n      ],\n    };\n  },\n  methods: {\n    loadUsers() {\n      const url = `${baseApiUrl}/usuario`;\n      axios.get(url).then((res) => {\n        this.users = res.data;\n      });\n    },\n    reset() {\n      this.mode = 'save';\n      this.user = {};\n      this.loadUsers();\n    },\n    save() {\n      const method = this.user.usuarioId ? 'put' : 'post';\n      const id = this.user.usuarioId ? `/${this.user.usuarioId}` : '';\n      delete this.user.planta;\n      axios[method](`${baseApiUrl}/usuario${id}`, this.user)\n        .then(() => {\n          this.$toasted.global.defaultSuccess();\n          this.reset();\n        })\n        .catch(showError);\n    },\n    remove() {\n      const id = this.user.usuarioId;\n      axios\n        .delete(`${baseApiUrl}/usuario/${id}`)\n        .then(() => {\n          this.$toasted.global.defaultSuccess();\n          this.reset();\n        })\n        .catch(showError);\n    },\n    loadUser(user, mode = 'save') {\n      this.mode = mode;\n      this.user = { ...user };\n    },\n  },\n  mounted() {\n    this.loadUsers();\n  },\n};\n</script>\n\n<style></style>\n"]}]}