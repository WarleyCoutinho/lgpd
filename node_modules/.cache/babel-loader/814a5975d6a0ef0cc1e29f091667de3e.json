{"remainingRequest":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/babel-loader/lib/index.js!/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/warley/Área de Trabalho/Projeto de TCC/Front-End/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/src/App.vue","mtime":1651663178606},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/babel.config.js","mtime":1641519101000},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1650512209933},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/babel-loader/lib/index.js","mtime":1651454970914},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/cache-loader/dist/cjs.js","mtime":1650512209933},{"path":"/home/warley/Área de Trabalho/Projeto de TCC/Front-End/node_modules/vue-loader/lib/index.js","mtime":1650512226403}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3dhcmxleS9ceEMxcmVhIGRlIFRyYWJhbGhvL1Byb2pldG8gZGUgVENDL0Zyb250LUVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgYmFzZUFwaVVybCwgdXNlcktleSB9IGZyb20gJ0AvZ2xvYmFsJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IEhlYWRlciBmcm9tICdAL2NvbXBvbmVudHMvdGVtcGxhdGUvSGVhZGVyJzsgLy8gaW1wb3J0IE1lbnUgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL01lbnUnOwoKaW1wb3J0IENvbnRlbnQgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL0NvbnRlbnQnOwppbXBvcnQgRm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy90ZW1wbGF0ZS9Gb290ZXInOwppbXBvcnQgTG9hZGluZyBmcm9tICdAL2NvbXBvbmVudHMvdGVtcGxhdGUvTG9hZGluZyc7CmltcG9ydCAnLi9zdHlsZXMvZ2xvYmFsLmNzcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXI6IEhlYWRlciwKICAgIENvbnRlbnQ6IENvbnRlbnQsCiAgICBGb290ZXI6IEZvb3RlciwKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIGNvbXB1dGVkOiBtYXBTdGF0ZShbJ2lzTWVudVZpc2libGUnLCAndXNlciddKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsaWRhdGluZ1Rva2VuOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVUb2tlbjogZnVuY3Rpb24gdmFsaWRhdGVUb2tlbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGpzb24sIHVzZXJEYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMudmFsaWRhdGluZ1Rva2VuID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGpzb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh1c2VyS2V5KTsKICAgICAgICAgICAgICAgIHVzZXJEYXRhID0gSlNPTi5wYXJzZShqc29uKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRVc2VyJywgbnVsbCk7CgogICAgICAgICAgICAgICAgaWYgKHVzZXJEYXRhKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy52YWxpZGF0aW5nVG9rZW4gPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnYXV0aCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiIi5jb25jYXQoYmFzZUFwaVVybCwgIi92YWxpZGF0ZVRva2VuIiksIHVzZXJEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldFVzZXInLCB1c2VyRGF0YSk7CgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuJG1xID09PSAneHMnIHx8IF90aGlzLiRtcSA9PT0gJ3NtJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3RvZ2dsZU1lbnUnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHVzZXJLZXkpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnYXV0aCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMudmFsaWRhdGluZ1Rva2VuID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy52YWxpZGF0ZVRva2VuKCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA,kD,CACA;;AACA;AACA;AACA;AACA;AACA;AACAA,aADA;AAEAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,GAFA;AAGAC,+CAHA;AAIAC;AACA;AACAC;AADA;AAGA,GARA;AASAC;AACAC,iBADA,2BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACAC,oBAFA,GAEAC,6BAFA;AAGAC,wBAHA,GAGAC,gBAHA;;AAIA;;AAJA,oBAKAD,QALA;AAAA;AAAA;AAAA;;AAMA;;AACA;AAAAb;AAAA;;AAPA;;AAAA;AAAA;AAAA,uBAUAe,6DAVA;;AAAA;AAUAC,mBAVA;;AAWA;AACA;;AACA;AACA;AACA;AACA,iBALA,MAKA;AACAJ;;AACA;AAAAZ;AAAA;AACA;;AACA;;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA;AAtBA,GATA;AAiCAiB,SAjCA,qBAiCA;AACA;AACA;AAnCA","names":["name","components","Header","Content","Footer","Loading","computed","data","validatingToken","methods","validateToken","json","localStorage","userData","JSON","axios","res","created"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <div id=\"app\" :class=\"{ 'hide-menu': !isMenuVisible || !user }\">\n    <Header\n      title=\"TCC- Projeto de conclusão de Curso\"\n      :hideToggle=\"!user\"\n      :hideUserDropdown=\"!user\"\n    />\n    <Menu v-if=\"user\" />\n    <Loading v-if=\"validatingToken\" />\n    <Content v-else />\n    <Footer />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { baseApiUrl, userKey } from '@/global';\nimport { mapState } from 'vuex';\nimport Header from '@/components/template/Header';\n// import Menu from '@/components/template/Menu';\nimport Content from '@/components/template/Content';\nimport Footer from '@/components/template/Footer';\nimport Loading from '@/components/template/Loading';\nimport './styles/global.css';\nexport default {\n  name: 'App',\n  components: { Header, Content, Footer, Loading },\n  computed: mapState(['isMenuVisible', 'user']),\n  data: function () {\n    return {\n      validatingToken: true,\n    };\n  },\n  methods: {\n    async validateToken() {\n      this.validatingToken = true;\n      const json = localStorage.getItem(userKey);\n      const userData = JSON.parse(json);\n      this.$store.commit('setUser', null);\n      if (!userData) {\n        this.validatingToken = false;\n        this.$router.push({ name: 'auth' });\n        return;\n      }\n      const res = await axios.post(`${baseApiUrl}/validateToken`, userData);\n      if (res.data) {\n        this.$store.commit('setUser', userData);\n        if (this.$mq === 'xs' || this.$mq === 'sm') {\n          this.$store.commit('toggleMenu', false);\n        }\n      } else {\n        localStorage.removeItem(userKey);\n        this.$router.push({ name: 'auth' });\n      }\n      this.validatingToken = false;\n    },\n  },\n  created() {\n    this.validateToken();\n  },\n};\n</script>\n"]}]}