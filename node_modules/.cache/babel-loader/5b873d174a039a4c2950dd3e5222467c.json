{"remainingRequest":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\babel-loader\\lib\\index.js!C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\src\\App.vue","mtime":1648650186984},{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\babel.config.js","mtime":1641519101000},{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650291280858},{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\babel-loader\\lib\\index.js","mtime":1650291280439},{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650291280858},{"path":"C:\\Warley Coutinho\\Projetos\\Web\\TCC\\Front-End\\node_modules\\vue-loader\\lib\\index.js","mtime":1650291319469}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1dhcmxleSBDb3V0aW5oby9Qcm9qZXRvcy9XZWIvVENDL0Zyb250LUVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgYmFzZUFwaVVybCwgdXNlcktleSB9IGZyb20gJ0AvZ2xvYmFsJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IEhlYWRlciBmcm9tICdAL2NvbXBvbmVudHMvdGVtcGxhdGUvSGVhZGVyJzsKaW1wb3J0IE1lbnUgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL01lbnUnOwppbXBvcnQgQ29udGVudCBmcm9tICdAL2NvbXBvbmVudHMvdGVtcGxhdGUvQ29udGVudCc7CmltcG9ydCBGb290ZXIgZnJvbSAnQC9jb21wb25lbnRzL3RlbXBsYXRlL0Zvb3Rlcic7CmltcG9ydCBMb2FkaW5nIGZyb20gJ0AvY29tcG9uZW50cy90ZW1wbGF0ZS9Mb2FkaW5nJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlcjogSGVhZGVyLAogICAgTWVudTogTWVudSwKICAgIENvbnRlbnQ6IENvbnRlbnQsCiAgICBGb290ZXI6IEZvb3RlciwKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIGNvbXB1dGVkOiBtYXBTdGF0ZShbJ2lzTWVudVZpc2libGUnLCAndXNlciddKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmFsaWRhdGluZ1Rva2VuOiB0cnVlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVUb2tlbjogZnVuY3Rpb24gdmFsaWRhdGVUb2tlbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGpzb24sIHVzZXJEYXRhLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMudmFsaWRhdGluZ1Rva2VuID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGpzb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh1c2VyS2V5KTsKICAgICAgICAgICAgICAgIHVzZXJEYXRhID0gSlNPTi5wYXJzZShqc29uKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRVc2VyJywgbnVsbCk7CgogICAgICAgICAgICAgICAgaWYgKHVzZXJEYXRhKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy52YWxpZGF0aW5nVG9rZW4gPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiAnYXV0aCcKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiIi5jb25jYXQoYmFzZUFwaVVybCwgIi92YWxpZGF0ZVRva2VuIiksIHVzZXJEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldFVzZXInLCB1c2VyRGF0YSk7CgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuJG1xID09PSAneHMnIHx8IF90aGlzLiRtcSA9PT0gJ3NtJykgewogICAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3RvZ2dsZU1lbnUnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHVzZXJLZXkpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnYXV0aCcKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMudmFsaWRhdGluZ1Rva2VuID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy52YWxpZGF0ZVRva2VuKCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,aADA;AAEAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA,GAFA;AAGAC,+CAHA;AAIAC;AACA;AACAC;AADA;AAGA,GARA;AASAC;AACAC,iBADA,2BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEAC,oBAHA,GAGAC,6BAHA;AAIAC,wBAJA,GAIAC,gBAJA;;AAKA;;AALA,oBAOAD,QAPA;AAAA;AAAA;AAAA;;AAQA;;AACA;AAAAd;AAAA;;AATA;;AAAA;AAAA;AAAA,uBAaAgB,6DAbA;;AAAA;AAaAC,mBAbA;;AAeA;AACA;;AAEA;AACA;AACA;AACA,iBANA,MAMA;AACAJ;;AACA;AAAAb;AAAA;AACA;;AAEA;;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BA;AA5BA,GATA;AAuCAkB,SAvCA,qBAuCA;AACA;AACA;AAzCA","names":["name","components","Header","Menu","Content","Footer","Loading","computed","data","validatingToken","methods","validateToken","json","localStorage","userData","JSON","axios","res","created"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <div id=\"app\" :class=\"{ 'hide-menu': !isMenuVisible || !user }\">\n    <Header\n      title=\"TCC- Projeto de conclusÃ£o de Curso\"\n      :hideToggle=\"!user\"\n      :hideUserDropdown=\"!user\"\n    />\n    <Menu v-if=\"user\" />\n    <Loading v-if=\"validatingToken\" />\n    <Content v-else />\n    <Footer />\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { baseApiUrl, userKey } from '@/global';\nimport { mapState } from 'vuex';\nimport Header from '@/components/template/Header';\nimport Menu from '@/components/template/Menu';\nimport Content from '@/components/template/Content';\nimport Footer from '@/components/template/Footer';\nimport Loading from '@/components/template/Loading';\n\nexport default {\n  name: 'App',\n  components: { Header, Menu, Content, Footer, Loading },\n  computed: mapState(['isMenuVisible', 'user']),\n  data: function () {\n    return {\n      validatingToken: true,\n    };\n  },\n  methods: {\n    async validateToken() {\n      this.validatingToken = true;\n\n      const json = localStorage.getItem(userKey);\n      const userData = JSON.parse(json);\n      this.$store.commit('setUser', null);\n\n      if (!userData) {\n        this.validatingToken = false;\n        this.$router.push({ name: 'auth' });\n        return;\n      }\n\n      const res = await axios.post(`${baseApiUrl}/validateToken`, userData);\n\n      if (res.data) {\n        this.$store.commit('setUser', userData);\n\n        if (this.$mq === 'xs' || this.$mq === 'sm') {\n          this.$store.commit('toggleMenu', false);\n        }\n      } else {\n        localStorage.removeItem(userKey);\n        this.$router.push({ name: 'auth' });\n      }\n\n      this.validatingToken = false;\n    },\n  },\n  created() {\n    this.validateToken();\n  },\n};\n</script>\n<style>\n* {\n  font-family: 'Lato', sans-serif;\n}\n\nbody {\n  margin: 0;\n}\n\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  height: 100vh;\n  display: grid;\n  grid-template-columns: 300px 1fr;\n  grid-template-rows: 60px 1fr 40px;\n\n  grid-template-areas: 'header header' 'menu content' 'menu footer';\n}\n\n#app.hide-menu {\n  grid-template-areas: 'header header' 'content content' 'footer footer';\n}\n</style>\n"]}]}